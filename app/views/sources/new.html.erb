<div class="max-w-5xl mx-auto px-4 py-8">
  <div class="mb-6">
    <h1 class="text-2xl font-bold flex items-center gap-2">
      <%= link_to "Sources", sources_path, class: "text-gray-400 hover:underline" %>
      <span class="text-gray-300">/</span>
      New
    </h1>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
    <div>
      <%= form_with model: @source do |f| %>
        <% if @source.errors.any? %>
          <div class="mb-4 p-3 border border-red-300 rounded text-sm text-red-600">
            <ul class="list-disc list-inside">
              <% @source.errors.full_messages.each do |message| %>
                <li><%= message %></li>
              <% end %>
            </ul>
          </div>
        <% end %>

        <div class="mb-4">
          <%= f.label :name, "Source Name", class: "block text-sm font-medium mb-1" %>
          <%= f.text_field :name, class: "block w-full border rounded px-3 py-2 text-sm", placeholder: "e.g., BetaList, My App", autofocus: true %>
        </div>

        <div class="mb-4">
          <%= render "color_picker", f: f %>
        </div>

        <div>
          <%= f.submit "Create Source", class: "px-3 py-1.5 text-sm border rounded hover:bg-gray-50 cursor-pointer" %>
        </div>
      <% end %>
    </div>

    <div class="text-sm text-gray-600 space-y-4">
      <div>
        <h3 class="font-medium text-gray-900">What's a source?</h3>
        <p class="mt-1">A source is a separate inbox for tracking email events. Each source has its own webhook URL that you'll configure in AWS.</p>
      </div>
      <div>
        <h3 class="font-medium text-gray-900">How many sources do I need?</h3>
        <p class="mt-1">We suggest starting with one source per project. Later, if you want to track different types of emails separately, you can create additional sources. For example, one for transactional emails (password resets, receipts) and another for marketing emails (newsletters, promotions).</p>
      </div>
    </div>
  </div>
</div>
